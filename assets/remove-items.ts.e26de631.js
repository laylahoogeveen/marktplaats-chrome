import{g as h}from"./chrome-dev.c41397dc.js";chrome.runtime.onMessage.addListener(function(t,i,e){t.message=="update_url"&&e({message:"update_url_permission"})});let u=!1;const m=new MutationObserver(t=>{t.forEach((i,e)=>{e==t.length-1&&(u||w())})});function v(){const t={subtree:!0,childList:!0};m.observe(document,t)}const y=h();w();async function w(){u=!0,m.disconnect(),await L(),u=!1,v()}async function L(){let t=!0;const i=c("hz-Button--small isActive");setTimeout(()=>{e()},0),setTimeout(()=>{e()},300);function e(){i&&i.forEach(n=>{const s=l("view-option-label",n);if(s){const a=s.innerHTML.replace(" ","");a.includes("Lijst")?t=!0:a.includes("Foto's")||document.URL.includes("#view:gallery-view")?t=!1:document.URL.includes("#view:list-view")&&(t=!0)}})}setTimeout(async()=>{await r()},0);async function r(){if(t){const n=c("hz-Listing hz-Listing--list-item");n&&await p(n,!0)}else{const n=c("hz-Listing hz-Listing--gallery-item");n&&await p(n,!1)}}}async function p(t,i){const e=await y;if(t){let n=t.length;for(let s=0;s<t.length;s++)r(t[s])&&(i?(t[s].style.height="0",t[s].style.padding="0"):(t[s].style.display="none",t[s].remove()),n--);n==t.length?showUi():n<1?await I(i):showUi(),z()}function r(n){const s=l("hz-Listing-priority",n);function a(){if(!!s){if(i){if(!(!e.showDagtopper&&s.querySelector("span").innerHTML=="Dagtopper"||!e.showSponsored&&s.querySelector("span").innerHTML.trim()=="Topadvertentie")&&!l("hz-Listing-seller-external-link",n))return!1}else if(!i&&!(!e.showDagtopper&&s.querySelector("span").innerHTML=="Dagtopper"||!e.showSponsored&&s.querySelector("span").innerHTML.trim()=="Topadvertentie")&&!l("hz-Listing-Opvalsticker-wrapper",n)){const g=l("hz-Listing-seller-link",n);return g?!!g.querySelector("a"):void 0}return!0}}return a()}}function l(t,i){var e,r;return i?(e=i.getElementsByClassName(t)[0])!=null?e:!1:(r=document.getElementsByClassName(t)[0])!=null?r:!1}function T(t){var i;return(i=document.getElementById(t))!=null?i:!1}function c(t){var i;return(i=Array.from(document.getElementsByClassName(t)))!=null?i:!1}function z(){["hz-Listings__container--cas","hz-Listing hz-Listing--other-seller","hz-Listings__admarktTitle","ad ad-1","ad","hz-Banner hz-Banner--fluid","hz-Listings__container--casGallery"].forEach(e=>{const r=c(e);r&&r.forEach(n=>{n.style.display="none"})}),["adsense-container","ads","ftContainer","ad_unit"].forEach(e=>{const r=T(e);r&&(r.style.display="none")})}async function I(t){const i=/p\/([0-9]){1,5}/;let e=document.URL;if(e.includes("#view:gallery-view"),!e)return;e=e.replace("#view:gallery-view/",""),e=e.replace("#view:list-view/",""),e=e.replace("#view:gallery-view",""),e=e.replace("#view:list-view","");const r=e.match(i),n=(r==null?void 0:r.length)>0?r[r.length-1]:null;if(n){const a=(parseInt(n)+1).toString(),f=n.replace(/([0-9]){1,5}/,a);let o=e.replace(n,f);o=`${o}${t?"#view:list-view":"#view:gallery-view"}`,await d(o)}else{e[e.length-1]=="/"&&(e=e.slice(0,-1));const s=`${e}/p/2/${t?"#view:list-view":"#view:gallery-view"}`;await d(s)}}async function d(t){await chrome.runtime.sendMessage({message:"update_url",newUrl:t})}
