import{g as L}from"./chrome-dev.c41397dc.js";const T=`
#content {
    opacity: 0;
    transition: all 0.1s ease-in;
    overflow: hidden;
}
`,d=document.head||document.getElementsByTagName("head")[0],c=document.createElement("style");d.appendChild(c);c.type="text/css";c.id="loadertje";c.appendChild(document.createTextNode(T));function m(){d.querySelector("#loadertje")&&d.removeChild(c)}chrome.runtime.onMessage.addListener(function(e,i,t){e.message=="update_url"&&t({message:"update_url_permission"})});let g=!1;const y=new MutationObserver(e=>{e.forEach((i,t)=>{t==e.length-1&&(g||w())})});function z(){const e={subtree:!0,childList:!0};y.observe(document,e)}const I=L();w();async function w(){g=!0,y.disconnect(),await C(),g=!1,z()}async function C(){let e=!0;const i=u("hz-Button--small isActive");setTimeout(()=>{t()},0),setTimeout(()=>{t()},300);function t(){i&&i.forEach(n=>{const s=l("view-option-label",n);if(s){const a=s.innerHTML.replace(" ","");a.includes("Lijst")?e=!0:a.includes("Foto's")||document.URL.includes("#view:gallery-view")?e=!1:document.URL.includes("#view:list-view")&&(e=!0)}})}setTimeout(async()=>{await r()},0);async function r(){if(e){const n=u("hz-Listing hz-Listing--list-item");n&&await h(n,!0)}else{const n=u("hz-Listing hz-Listing--gallery-item");n&&await h(n,!1)}}}async function h(e,i){const t=await I;if(e){let n=e.length;for(let s=0;s<e.length;s++)r(e[s])&&(i?(e[s].style.height="0",e[s].style.padding="0"):(e[s].style.display="none",e[s].remove()),n--);n==e.length?m():n<1?await E(i):m(),b()}function r(n){const s=l("hz-Listing-priority",n);function a(){if(!!s){if(i){if(!(!t.showDagtopper&&s.querySelector("span").innerHTML=="Dagtopper"||!t.showSponsored&&s.querySelector("span").innerHTML.trim()=="Topadvertentie")&&!l("hz-Listing-seller-external-link",n))return!1}else if(!i&&!(!t.showDagtopper&&s.querySelector("span").innerHTML=="Dagtopper"||!t.showSponsored&&s.querySelector("span").innerHTML.trim()=="Topadvertentie")&&!l("hz-Listing-Opvalsticker-wrapper",n)){const p=l("hz-Listing-seller-link",n);return p?!!p.querySelector("a"):void 0}return!0}}return a()}}function l(e,i){var t,r;return i?(t=i.getElementsByClassName(e)[0])!=null?t:!1:(r=document.getElementsByClassName(e)[0])!=null?r:!1}function B(e){var i;return(i=document.getElementById(e))!=null?i:!1}function u(e){var i;return(i=Array.from(document.getElementsByClassName(e)))!=null?i:!1}function b(){["hz-Listings__container--cas","hz-Listing hz-Listing--other-seller","hz-Listings__admarktTitle","ad ad-1","ad","hz-Banner hz-Banner--fluid","hz-Listings__container--casGallery"].forEach(t=>{const r=u(t);r&&r.forEach(n=>{n.style.display="none"})}),["adsense-container","ads","ftContainer","ad_unit"].forEach(t=>{const r=B(t);r&&(r.style.display="none")})}async function E(e){const i=/p\/([0-9]){1,5}/;let t=document.URL;if(t.includes("#view:gallery-view"),!t)return;t=t.replace("#view:gallery-view/",""),t=t.replace("#view:list-view/",""),t=t.replace("#view:gallery-view",""),t=t.replace("#view:list-view","");const r=t.match(i),n=(r==null?void 0:r.length)>0?r[r.length-1]:null;if(n){const a=(parseInt(n)+1).toString(),f=n.replace(/([0-9]){1,5}/,a);let o=t.replace(n,f);o=`${o}${e?"#view:list-view":"#view:gallery-view"}`,await v(o)}else{t[t.length-1]=="/"&&(t=t.slice(0,-1));const s=`${t}/p/2/${e?"#view:list-view":"#view:gallery-view"}`;await v(s)}}async function v(e){await chrome.runtime.sendMessage({message:"update_url",newUrl:e})}
